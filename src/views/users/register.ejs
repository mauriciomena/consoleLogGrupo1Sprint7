<!DOCTYPE html>
<html lang="en"> 
<head>
   <%- include('../partials/head')%>
   <link rel="stylesheet" href='/css/register.css'/>
   <link rel="stylesheet" href='/css/validacionesFrontEnd.css'/>
</head>   
<body>
  <%- include('../partials/header')%>

  <main class="main-register" >
    <section>
      <div class="register">
        <marquee>Registrate y Obtene Beneficios</marquee>

        <form method="POST" action="/users/register/" class="formulario" enctype="multipart/form-data">

          <div class="form-control">
            <input 
              type="text" 
              name="name" 
              id="name" 
              placeholder="Nombre"
              class="control" <%= locals.Errors && errors.name ? 'is-invalid' : null %>" 
              value="<%= locals.oldData ? oldData.name : null %>" 
            >
            <span class="Feedback"></span>
            <% if(locals.errors && errors.name) { %>
              <div class="text-danger">
                <%= errors.name.msg %> 
              </div>
            <% } %>
          </div>

          <div class="form-control">
            <input 
              type="text" 
              name="lastname" 
              id="lastname"  
              placeholder="Apellido"
              class="control" <%= locals.Errors && errors.lastname ? 'is-invalid' : null %>" 
              value="<%= locals.oldData ? oldData.lastname : null %>" 
            >
            <span class="Feedback"></span>
            <% if(locals.errors && errors.lastname) { %>
              <div class="text-danger">
                <%= errors.lastname.msg %> 
              </div>
            <% } %>
          </div>     

          <div class="form-control">
            <input 
              type="email" 
              name="email" 
              id="email" 
              placeholder="Email"
              class="control" <%= locals.Errors && errors.email ? 'is-invalid' : null %>" 
              value="<%= locals.oldData ? oldData.email : null %>"
            >
            <span class="Feedback"></span>
            <% if(locals.errors && errors.email) { %>
              <div class="text-danger">
                <%= errors.email.msg %> 
              </div>
            <% } %>
          </div>

          <div class="form-control">
            <input 
              type="password" 
              name="password" 
              id="pass" 
              placeholder="Contraseña"
              class="control" <%= locals.Errors && errors.password ? 'is-invalid' : null %>" 
              value="<%= locals.oldData ? oldData.password : null %>" >
            <% if(locals.errors && errors.password) { %>
              <div class="text-danger">
                <%= errors.password.msg %> 
              </div>
            <% } %>
          </div>

          <div class="form-control <%= locals.Errors && errors.confirmpass ? "is-invalid" : null %>">
            <input 
              type="password" 
              name="confirmpass"
              id="confirmpass" 
              placeholder="Confirmar contraseña"
              class="control"
              value="<%= locals.oldData ? oldData.confirmpass : null %>" >
              <% if(locals.errors && errors.confirmpass) { %>
                <div class="text-danger">
                  <%= errors.confirmpass.msg %> 
                </div>
              <% } %>
          </div>

          <br>

          <div>
            <label><b>Subí tu imágen de perfil:</b></label>
            <input class='form-control' type="file" name="avatar">
            <% if(locals.errors && errors.avatar) { %>
              <div class="text-danger">
                <%= errors.avatar.msg %> 
              </div>
            <% } %>
          </div>

          <div class="check">
            <input type="radio" name="agree" id="agree"> 
            <label class="label" for="agree">Acepto los terminos y condiciones de este sitio</label>
            <% if(locals.errors && errors.agree) { %>
              <div class="text-danger">
                <%= errors.agree.msg %> 
              </div>
            <% } %>
          </div>          

          <br>

          <div class="form-control buttons">
            <input type="submit" value="Registrarse" class="submit button-form">
            <input type="reset" value="Limpiar" class="button-form">
          </div>

        </form>

      </div> 
    </section>
  </main>

  <%- include('../partials/footer')%>
  <script src="/js/registerUserValidation.js"></script>
  <!-- <script src="../../../public/js/registerUserValidation.js"></script> -->
</body>
</html>